{% extends "pages/basic_base.html" %}

{% block title %}Cadastro de Usuário e Criança{% endblock %}

{% block content %}
  <div class="container mt-5 mb-5" style="max-width: 850px;">
    <div class="text-center mb-4">
      <h2 class="fw-bold text-primary">Cadastro de Usuário e Criança</h2>
      <p class="text-muted">Preencha seus dados e os dados da criança para concluir o cadastro.</p>
    </div>

    <div class="text-center mb-4">
      {% include "includes/msgs.html" %}
    </div>

    <form method="POST" action="" class="br-form bg-white shadow p-4 rounded-4 border">
      {% csrf_token %}

      <!-- ====================== -->
      <!-- DADOS DO USUÁRIO -->
      <!-- ====================== -->
      <fieldset class="border rounded-3 p-4 mb-4">
        <legend class="fw-semibold text-primary px-2">👤 Dados do Usuário</legend>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="first_name" class="form-label">Primeiro nome</label>
            <input type="text" name="first_name" id="first_name" class="form-control" required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="last_name" class="form-label">Sobrenome</label>
            <input type="text" name="last_name" id="last_name" class="form-control" required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="id_email" class="form-label">E-mail</label>
            <input type="email" name="email" id="id_email" class="form-control" required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="id_telefone" class="form-label">Telefone</label>
            <input type="text" name="telefone" id="id_telefone" class="form-control">
          </div>

          <div class="col-md-6 mb-3">
            <label for="id_telefone" class="form-label">CPF</label>
            <input type="text" name="cpf" id="id_cpf" class="form-control">
          </div>

          <div class="col-md-6 mb-3">
            <label for="id_password" class="form-label">Senha</label>
            <input type="password" name="password" id="id_password" class="form-control" required>
          </div>
        </div>
      </fieldset>

      <!-- ====================== -->
      <!-- DADOS DA CRIANÇA -->
      <!-- ====================== -->
      <fieldset class="border rounded-3 p-4 mb-4">
        <legend class="fw-semibold text-success px-2">🧒 Dados da Criança</legend>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="id_nome" class="form-label">Nome</label>
            <input type="text" name="nome_crianca" id="id_nome" class="form-control" required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="id_sobrenome" class="form-label">Sobrenome</label>
            <input type="text" name="sobrenome_crianca" id="id_sobrenome" class="form-control" required>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4 mb-3">
            <label for="id_genero" class="form-label">Gênero</label>
            <select name="genero_crianca" id="id_genero" class="form-select">
              <option value="">Selecione...</option>
              <option value="Masculino">Masculino</option>
              <option value="Feminino">Feminino</option>
            </select>
          </div>

          <div class="col-md-4 mb-3">
            <label for="id_ultima_vacina" class="form-label">Última Vacina</label>
            <input type="date" name="ultima_vacina" id="id_ultima_vacina" class="form-control">
          </div>

          <div class="col-md-4 mb-3">
            <label for="id_proxima_vacina" class="form-label">Próxima Vacina</label>
            <input type="date" name="proxima_vacina" id="id_proxima_vacina" class="form-control">
          </div>
        </div>
      </fieldset>

    <!-- BOTÕES -->
      <div class="d-flex justify-content-between align-items-center mt-4">
        <a href="{% url 'authentication:account_login' %}" class="btn btn-outline-secondary">
          <i class="fa-solid fa-arrow-left"></i> Voltar para Login
        </a>
        <button type="submit" class="btn btn-primary px-4">
          <i class="fa-solid fa-user-plus"></i> Salvar Cadastro
        </button>
      </div>
    </form>
  </div>
{% endblock %}

{% block javascripts %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.js"></script>
<script>
    jQuery(document).ready(function($) {
        $('#id_telefone').mask('(00) 00000-0000');
        $('#id_cpf').mask('000.000.000-00', {reverse: true});

    });
</script>

{% endblock %}